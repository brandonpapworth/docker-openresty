#!/bin/sh
set -eo pipefail

__WARNING_LINE_1="DO NOT MODIFY"
__WARNING_LINE_2="Generated by /docker-entrypoint-scripts/generate-nginx-conf-includes/env.conf.sh"

__ENV_VAR_NAMES="$(env | sed -e 's/=.*//')"

printf "####\n##  ${__WARNING_LINE_1}\n##  ${__WARNING_LINE_2}\n####\n\n" \
  > ${NGINX__ENV__CONF_FILE_PATH}
printf "${__ENV_VAR_NAMES}" \
  | sed -e "s/^\(.*\)$/env \1;/" \
 >> ${NGINX__ENV__CONF_FILE_PATH}
printf "\n" \
 >> ${NGINX__ENV__CONF_FILE_PATH}
